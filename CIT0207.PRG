SELECT CITPAC
STORE 05 TO LIBRCAR
STORE 00 TO CIBRCAR
on key label f4 do winbus
DEFI WIND BRCAR FROM LIBRCAR,CIBRCAR TO LIBRCAR+19,CIBRCAR+79;
                TITLE " BUSQUEDA DE NO AFILIADOS POR CODIGO ";
                FOOTER " F4=Buscar cedula, ESC=Seleccionar ";
                DOUBLE NOFLOAT NOZOOM NOGROW SHADOW COLOR SCHEME 10
ACTI WIND BRCAR
BROWSE FIELDS CODPAC:H="CODIGO", PAPELLIDO:H="PRIMER APELLIDO", SAPELLIDO:H="SEGUNDO APELLIDO",;
              PNOMBRE:H="PRIMER NOMBRE", SNOMBRE:H="SEGUNDO NOMBRE",;
              SEXO:H="S", NACIMIENTO:H="FECHA NAC.";
              NOAPPEND NODELETE NOEDIT NOMENU NOOPTIMIZE REST SAVE IN WINDOW BRCAR
RELEASE WIND BRCAR
STORE CODPAC TO WCODPAC
RETURN
procedure winbus
DEFI WIND winbus FROM LIBRCAR+3,CIBRCAR TO LIBRCAR+5,CIBRCAR+79;
                TITLE " BUSQUEDA DE NO AFILIADOS POR CODIGO ";
                DOUBLE NOFLOAT NOZOOM NOGROW SHADOW COLOR SCHEME 10
acti wind winbus
@ 00,00 clear
STORE SUBSTR(WCODPAC,1,10)      TO WCODPAC1
STORE VAL(SUBSTR(WCODPAC,11,4)) TO WCODPAC2
@ 00,00 GET WCODPAC1
@ 00,10 SAY "-"
@ 00,11 GET WCODPAC2 PICTURE "9999"
READ
STORE WCODPAC1+STR(WCODPAC2,4)                   TO WCODPAC
STORE RTRIM(WCODPAC1)+"-"+LTRIM(STR(WCODPAC2,4)) TO WXCODPAC
if lastkey()=27
   rele wind winbus
   return
endif
select CITPAC
seek WCODPAC
if .not. found()
   store "NO EXISTE, VERIFIQUE" to wtext
   do aviso with wtext
endif
rele wind winbus
return


